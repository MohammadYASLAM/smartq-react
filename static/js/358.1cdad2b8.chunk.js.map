{"version":3,"file":"static/js/358.1cdad2b8.chunk.js","mappings":"iPAMA,MAAMA,EAAiB,CACrBC,OAAQ,0CACRC,WAAY,+BACZC,UAAW,eACXC,cAAe,mCACfC,kBAAmB,eACnBC,MAAO,6CAGHC,GAAMC,EAAAA,EAAAA,eAAcR,GACpBS,GAAOC,EAAAA,EAAAA,SAAQH,GACfI,GAAKC,EAAAA,EAAAA,cAAaL,GAClBM,GAAYC,EAAAA,EAAAA,cAAaP,IAe/BQ,EAAAA,EAAAA,WAAUF,GAAYG,IACpBC,QAAQC,IAAI,oBAAqBF,GACjCG,MAAM,iBAAiBH,EAAQI,aAAaC,WAAWL,EAAQI,aAAaE,OAAO,I,gLC5BrF,MA2CA,EA3CuBC,KACrB,MAAOC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,IACvCC,GAAWC,EAAAA,EAAAA,OAGjBC,EAAAA,EAAAA,YAAU,KAEYC,EAAAA,EAAAA,oBAAmBrB,EAAAA,IAAOsB,IAExCA,EACFN,EAAcM,EAAKC,OAGnBL,EAAS,QACX,KAGD,CAACA,IAUJ,OACEM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qBACJF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,YAAUX,MACbS,EAAAA,EAAAA,MAAA,OAAKI,MAAO,CAAEC,QAAS,OAAQC,IAAK,OAAQC,UAAW,OAAQC,SAAU,OAAQC,eAAgB,UAAWP,SAAA,EAC1GC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,MAAMS,QAASA,IAAMhB,EAAS,yBAAyBQ,SAAC,mBAG1EC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,MAAMS,QAdTC,gBACbC,EAAAA,EAAAA,SAAQpC,EAAAA,IACdkB,EAAS,QAAQ,EAYiCQ,SAAC,gBAI7C,E","sources":["firebase/firebase-config.js","pages/AdminDashboard.js"],"sourcesContent":["// src/firebase/firebase-config.js\r\nimport { initializeApp } from \"https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js\";\r\nimport { getAuth } from \"https://www.gstatic.com/firebasejs/10.11.1/firebase-auth.js\";\r\nimport { getFirestore } from \"https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js\";\r\nimport { getMessaging, getToken, onMessage } from \"https://www.gstatic.com/firebasejs/10.11.1/firebase-messaging.js\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAhBlyXYwfLE1rXPcWRiouJfsp6gIpG894\",\r\n  authDomain: \"smartq-d015b.firebaseapp.com\",\r\n  projectId: \"smartq-d015b\",\r\n  storageBucket: \"smartq-d015b.firebasestorage.app\",\r\n  messagingSenderId: \"452644823738\",\r\n  appId: \"1:452644823738:web:7a133f086ff93200b39883\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\nconst messaging = getMessaging(app);\r\n\r\n// Request notification permission if needed\r\nexport async function requestNotificationPermission() {\r\n  try {\r\n    const token = await getToken(messaging, { vapidKey: \"YOUR_VAPID_PUBLIC_KEY\" });\r\n    if (token) {\r\n      console.log(\"Notification Token:\", token);\r\n      return token;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Notification permission error:\", error);\r\n  }\r\n}\r\n\r\nonMessage(messaging, (payload) => {\r\n  console.log(\"Message received:\", payload);\r\n  alert(`Notification: ${payload.notification.title} - ${payload.notification.body}`);\r\n});\r\n\r\nexport { auth, db, messaging };\r\n","// src/pages/AdminDashboard.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { auth } from '../firebase/firebase-config';\r\nimport { onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.11.1/firebase-auth.js';\r\n\r\n//Define the AdminDashboard component\r\nconst AdminDashboard = () => {\r\n  const [adminEmail, setAdminEmail] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  //useEffect: runs after the component first renders\r\n  useEffect(() => {\r\n    //Start listening for authentication status changes\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      //If a admin is logged in, store their email in state\r\n      if (user) {\r\n        setAdminEmail(user.email);\r\n      } else {\r\n        //if admin not send them to auth page\r\n        navigate('/auth');\r\n      }\r\n    });\r\n    return unsubscribe;\r\n  }, [navigate]);\r\n\r\n\r\n  //Handler for when the Logout button is clicked\r\n  const handleLogout = async () => {\r\n    await signOut(auth); //logout from firebase\r\n    navigate('/auth'); //then send them back to auth page\r\n  };\r\n\r\n  //render admin dasboard\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Admin Dashboard</h1>\r\n      <p>Welcome, {adminEmail}</p>\r\n      <div style={{ display: 'flex', gap: '1rem', marginTop: '1rem', flexWrap: 'wrap', justifyContent: 'center' }}>\r\n        <button className=\"btn\" onClick={() => navigate('/admin/queue-controls')}> \r\n          Manage Queues \r\n        </button>\r\n        <button className=\"btn\" onClick={handleLogout}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","initializeApp","auth","getAuth","db","getFirestore","messaging","getMessaging","onMessage","payload","console","log","alert","notification","title","body","AdminDashboard","adminEmail","setAdminEmail","useState","navigate","useNavigate","useEffect","onAuthStateChanged","user","email","_jsxs","className","children","_jsx","style","display","gap","marginTop","flexWrap","justifyContent","onClick","async","signOut"],"sourceRoot":""}