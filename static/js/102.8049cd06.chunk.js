"use strict";(self.webpackChunksmartq_react=self.webpackChunksmartq_react||[]).push([[102],{82:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.d(t,{db:()=>p,j2:()=>l});var i=a(11),n=a(726),r=a(717),u=a(214),o=e([i,n,r,u]);[i,n,r,u]=o.then?(await o)():o;const d={apiKey:"AIzaSyAhBlyXYwfLE1rXPcWRiouJfsp6gIpG894",authDomain:"smartq-d015b.firebaseapp.com",projectId:"smartq-d015b",storageBucket:"smartq-d015b.firebasestorage.app",messagingSenderId:"452644823738",appId:"1:452644823738:web:7a133f086ff93200b39883"},c=(0,i.initializeApp)(d),l=(0,n.getAuth)(c),p=(0,r.getFirestore)(c),g=(0,u.getMessaging)(c);(0,u.onMessage)(g,(e=>{console.log("Message received:",e),alert(`Notification: ${e.notification.title} - ${e.notification.body}`)})),s()}catch(d){s(d)}}))},102:(e,t,a)=>{a.a(e,(async(e,s)=>{try{a.r(t),a.d(t,{default:()=>c});var i=a(43),n=a(662),r=a(82),u=a(717),o=a(579),d=e([r,u]);[r,u]=d.then?(await d)():d;const c=()=>{const[e,t]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0),[l,p]=(0,i.useState)(null),g=(0,n.zy)(),h=(0,n.Zp)(),f=new URLSearchParams(g.search),m=f.get("queueId"),b=f.get("userId");return(0,i.useEffect)((()=>{if(!m||!b)return void h("/invalid-queue");const e=(0,u.doc)(r.db,"queues",m),a=(0,u.onSnapshot)(e,(e=>{if(!e.exists())return void h("/invalid-queue");const a=e.data();p(a);const i=a.users?a.users.find((e=>e.userId===b)):null;i?(t(i.position),s(5*i.position)):h("/farewell"),c(!1)}),(e=>{console.error("Error loading queue data:",e),c(!1)}));return()=>a()}),[m,b,h,5]),d?(0,o.jsx)("p",{children:"Loading queue details..."}):(0,o.jsxs)("div",{style:{maxWidth:"400px",margin:"0 auto",padding:"1rem",textAlign:"center"},children:[(0,o.jsx)("h2",{children:"Your Queue Status"}),(0,o.jsxs)("p",{children:["Your Position: ",null!==e?e:"--"]}),(0,o.jsxs)("p",{children:["Estimated Wait Time: ",null!==a?a:"--"," minutes"]})]})};s()}catch(c){s(c)}}))}}]);
//# sourceMappingURL=102.8049cd06.chunk.js.map